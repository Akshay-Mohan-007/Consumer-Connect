<!--***************************************************************************************************************************************
 * NAME   : CC_FileUpload_Component
 * DESCRIPTION  : File Upload Component
 *    
 * @AUTHOR   : Akshay Mohan
 * @DATE   : 11-09-2017
 *
 * MODIFICATION LOG:  
 * ***************************************************************************************************************************************
 * DEVELOPER        DATE        DESCRIPTION 
 * ***************************************************************************************************************************************
 * Akshay Mohan        11-10-2017      Initial Version
 ****************************************************************************************************************************************-->
<aura:component controller="CC_FileUpload_Controller" access="global" extends="c:CC_BaseSuperComponent"
  implements="flexipage:availableForAllPageTypes,force:hasRecordId,force:appHostable,forceCommunity:availableForAllPageTypes" >
	
	<aura:attribute name="masterRecordId" type="String" />
  	<aura:attribute name="lookupField" type="String"  />
  	<aura:attribute name="validator" type="String"  />
  	<aura:attribute name="module" type="String" />
  	<aura:attribute name="lstReqDocs" type="List"/>
  	<aura:attribute name="lstDocs" type="List"/>
  	<aura:attribute name="lstDocTypes" type="List"/>
    <aura:attribute name="lstStatus" type="List"/>
  	<aura:attribute name="lstErrors" type="List"/>
  	<aura:attribute name="bPageLoaded" type="boolean" default="false" />
  	<aura:attribute name="mapLabels" type="Map"/>
  	<aura:attribute name="bDoReview" type="Boolean" default="false"/>
    <aura:attribute name="bReviewComplete" type="Boolean" default="false"/>
  	<aura:attribute name="wrapDummyDoc" type="Object" />
  	<aura:attribute name="bDoingSave" type="Boolean" default="false"/>
  	<aura:attribute name="bDoingRefresh" type="Boolean" default="false"/>
    <aura:attribute name="bIsReadOnly" type="Boolean" default="false"/>
    <aura:attribute name="sPageHeader" type="String" />
  
  	<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
  	<aura:handler name="change" value="{!v.bDoingSave}" action="{!c.checkSave}"/>
  	<aura:handler name="change" value="{!v.bDoingRefresh}" action="{!c.refreshGrid}"/>

  	<aura:method name="save" action="{!c.save}" access="PUBLIC">
        <aura:attribute name="callback" type="Function"/>
    </aura:method>

  	<c:CC_SubPageHeader iconName="standard:document" pageName="{!v.sPageHeader}" 
                    errorListShow="{! !empty(v.lstErrors) }" lstErrors='{!v.lstErrors}' />

  	<aura:if isTrue="{!v.bPageLoaded}" >
            
  				<c:CC_DocumentUpload_DocumentsRequiredTable docRequiredList="{!v.lstReqDocs}" mapLabels="{!v.mapLabels}" />
  			
  			
  				<c:CC_DocumentUpload_DetailTable docDetailList="{!v.lstDocs}" mapLabels="{!v.mapLabels}" lstDocTypes="{!v.lstDocTypes}"
  											bReviewComplete="{!v.bReviewComplete}" wrapDummyDoc="{!v.wrapDummyDoc}" 
  											bDoingSave="{!v.bDoingSave}" bDoingRefresh="{!v.bDoingRefresh}" bIsReadOnly="{!v.bIsReadOnly}"
  											aura:id="docGrid" bDoReview="{!v.bDoReview}" lstStatus="{!v.lstStatus}" />
  			
  			<!-- keeping code so that page can be tested standalone in future
  			<lightning:layoutItem flexibility="grow"  size="12" largeDeviceSize="8" mediumDeviceSize="6" smallDeviceSize="12" padding="around-small" class="slds-form-element">
  				<lightning:button variant="brand" label="{!v.mapLabels.CC_Label_Save}" onclick="{!c.save}"/>
  			</lightning:layoutItem> -->

  		
  	</aura:if>
  	
</aura:component>